---
title: é€’æ¨å’Œé€’å½’
date: '2022/11/15 08:42:36'
top_img: 'https://pic.hycbook.com/i//hexo/post_imgs/è•¾å§†2.webp'
cover: 'https://pic.hycbook.com/i//hexo/post_cover/è•¾å§†2.webp'
categories:
  - algorithm
tags:
  - acm
  - é€’æ¨å’Œé€’å½’
description: é€’æ¨å’Œé€’å½’
mathjax: trued
---

---



# é€’æ¨å’Œé€’å½’

## æ¦‚å¿µ

* **é€’å½’**: ä»é—®é¢˜çš„æœ€ç»ˆç›®æ ‡å‡ºå‘ï¼Œé€æ¸å°†å¤æ‚é—®é¢˜åŒ–ä¸ºç®€å•é—®é¢˜ï¼Œæœ€ç»ˆæ±‚å¾—é—®é¢˜ï¼Œæ˜¯**é€†å‘**çš„
* **é€’æ¨**: æ˜¯ä»ç®€å•é—®é¢˜å‡ºå‘ï¼Œä¸€æ­¥æ­¥çš„å‘å‰å‘å±•ï¼Œæœ€ç»ˆæ±‚å¾—é—®é¢˜ã€‚æ˜¯**æ­£å‘**çš„

ä¸€èˆ¬æ¥è¯´ï¼Œé€’æ¨çš„æ•ˆç‡é«˜äºé€’å½’(å½“ç„¶æ˜¯é€’æ¨å¯ä»¥è®¡ç®—çš„æƒ…å†µä¸‹)ï¼Œæ¯”å¦‚ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—
$$
a_{n} = \frac {1}{\sqrt{5} [ (\frac {1+\sqrt{5}}{2})^n - (\frac {1-\sqrt{5}}{2})^n ]}
$$


# æ¡ˆä¾‹

## è´¹è§£çš„å¼€å…³

### é¢˜ç›®

> æè¿°

æ±‚açš„bæ¬¡æ–¹å¯¹på–æ¨¡çš„å€¼

> éš¾åº¦

ç®€å•

> è¾“å…¥æ ¼å¼

ä¸‰ä¸ªæ•´æ•°a,b,pï¼Œåœ¨åŒä¸€è¡Œç”¨ç©ºæ ¼éš”å¼€

> è¾“å‡ºæ ¼å¼

è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º$(a^b) \% p$çš„ç»“æœ

> æ•°æ®èŒƒå›´

$$
1 \leq a,b,q \leq 10^9
$$

> è¾“å…¥æ ·ä¾‹

```python
3 2 7
123456789 0 1
```

> è¾“å‡ºæ ·ä¾‹

```python
2
0
```

### æ€è·¯

> å¿«é€Ÿå¹‚

```python
3 ^ 10000000

# å…ˆè®¡ç®—å‡º
3 ^ 1 = 3
3 ^ 2 = 9
3 ^ 4 = 81
3 ^ 8 = 
3 ^ 16 = 
3 ^ 32 = 
...
3 ^ (2^19) = xxx
```

ğŸ¥•æ ¸å¿ƒ: å†çœ‹ä¸‹10000000çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼ŒæŠŠå¯¹åº”ä¸º1çš„ä½ä¹˜èµ·æ¥å°±å¯ä»¥

10000000çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º`0b100110001001011010000000`ï¼Œå› æ­¤åªè¦å¯¹åº”ä½ç½®çš„å€¼ä¹˜èµ·æ¥å°±æ˜¯3 ^ 10000000

ğŸ¥•æ ¹æ®æ•°å­¦å¸¸è¯†ï¼Œæ¯ä¸€ä¸ªæ­£æ•´æ•°å¯ä»¥å”¯ä¸€è¡¨ç¤ºä¸ºè‹¥å¹²æŒ‡æ•°ä¸é‡å¤çš„2çš„æ¬¡å¹•çš„å’Œ

```python
def ck_sum_of_power(in_n: int):
    """
    æ£€éªŒæ•´æ•°å¯ä»¥ç”±è‹¥å¹²ä¸ªä¸é‡å¤çš„2çš„æ¬¡å¹‚çš„å’Œ
    @param in_n:
    @return:
    """
    nb = in_n
    res = 0
    v = 1
    while nb:
        if nb & 1:
            res += v
        v *= 2
        nb >>= 1
    return res


if __name__ == '__main__':
    print(all([ck_sum_of_power(in_n=i) == i for i in range(100)]))
```

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœbåœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹æœ‰$k$ä½ï¼Œå…¶ä¸­ç¬¬$i(0<i<k)$ä½çš„æ•°å­—æ˜¯$c_i$ï¼Œåˆ™
$$
b = c_{k-1}2^{k-1}+c_{k-2}2^{k-2}+\cdots+c_{0}2^{0}
$$
äºæ˜¯
$$
a^b = a^{c_{k-1}2^{k-1}+c_{k-2}2^{k-2}+\cdots+c_{0}2^{0}}=a^{c_{k-1}2^{k-1}}*a^{c_{k-2}2^{k-2}}*\cdots*a^{c_{0}2^{0}}
$$
å› ä¸º$k= \lceil log2(b+1) \rceil $ï¼Œæ‰€ä»¥ä¸Šå¼ä¹˜ç§¯é¡¹çš„æ•°é‡ä¸å¤šäº$\lceil log2(b+1) \rceil$ä¸ª

åˆå› ä¸º$a^{2^i} = {a^{(2^{i-1})}}^2$ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ˆå®¹æ˜“é€šè¿‡$k$æ¬¡é€’æ¨æ±‚å‡ºæ¯ä¸ªä¹˜ç§¯é¡¹ï¼Œå½“$c_i=1$æ—¶ï¼ŒæŠŠè¯¥ä¹˜ç§¯é¡¹ç´¯ç§¯åˆ°ç­”æ¡ˆä¸­

b&1è¿ç®—å¯ä»¥å–å‡ºbåœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹çš„æœ€ä½ä½ï¼Œè€Œb>>1è¿ç®—å¯ä»¥èˆå»æœ€ä½ä½ï¼Œåœ¨é€’æ¨çš„è¿‡ç¨‹ä¸­å°†äºŒè€…ç»“åˆï¼Œå°±å¯ä»¥éå†båœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹çš„æ‰€æœ‰æ•°ä½$c_i$ï¼Œæ•´ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO($log2(b)$)

### æ±‚è§£

```python
def solution(a: int, b: int, p: int) -> int:
    res = 1 % p
    while b:
        # å¦‚æœbçš„ä¸ªä½æ˜¯1
        if b & 1:
            res = res *  a % p
        # å‡†å¤‡åä½
        a = a * a % p
        # å»æ‰å„ä½
        b >>= 1

    return res
```


