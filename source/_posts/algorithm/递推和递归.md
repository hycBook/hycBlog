---
title: é€’æ¨å’Œé€’å½’
date: '2022/11/15 08:42:36'
top_img: 'https://pic.hycbook.com/i//hexo/post_imgs/è•¾å§†2.webp'
cover: 'https://pic.hycbook.com/i//hexo/post_cover/è•¾å§†2.webp'
categories:
  - algorithm
tags:
  - acm
  - é€’æ¨å’Œé€’å½’
description: é€’æ¨å’Œé€’å½’
mathjax: trued
---

---



# é€’æ¨å’Œé€’å½’

## æ¦‚å¿µ

* **é€’å½’**: ä»é—®é¢˜çš„æœ€ç»ˆç›®æ ‡å‡ºå‘ï¼Œé€æ¸å°†å¤æ‚é—®é¢˜åŒ–ä¸ºç®€å•é—®é¢˜ï¼Œæœ€ç»ˆæ±‚å¾—é—®é¢˜ï¼Œæ˜¯**é€†å‘**çš„
* **é€’æ¨**: æ˜¯ä»ç®€å•é—®é¢˜å‡ºå‘ï¼Œä¸€æ­¥æ­¥çš„å‘å‰å‘å±•ï¼Œæœ€ç»ˆæ±‚å¾—é—®é¢˜ã€‚æ˜¯**æ­£å‘**çš„

ä¸€èˆ¬æ¥è¯´ï¼Œé€’æ¨çš„æ•ˆç‡é«˜äºé€’å½’(å½“ç„¶æ˜¯é€’æ¨å¯ä»¥è®¡ç®—çš„æƒ…å†µä¸‹)ï¼Œæ¯”å¦‚ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—
$$
a_{n} = \frac {1}{\sqrt{5} [ (\frac {1+\sqrt{5}}{2})^n - (\frac {1-\sqrt{5}}{2})^n ]}
$$

# æ¡ˆä¾‹

## é€’å½’å®ç°æŒ‡æ•°å‹æšä¸¾

### é¢˜ç›®

> æè¿°

ä» $1âˆ¼n$ è¿™ $n$ ä¸ªæ•´æ•°ä¸­éšæœºé€‰å–ä»»æ„å¤šä¸ªï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„é€‰æ‹©æ–¹æ¡ˆ

> éš¾åº¦

ç®€å•

> è¾“å…¥æ ¼å¼

è¾“å…¥ä¸€ä¸ªæ•´æ•° $n$

> è¾“å‡ºæ ¼å¼

æ¯è¡Œè¾“å‡ºä¸€ç§æ–¹æ¡ˆ

åŒä¸€è¡Œå†…çš„æ•°å¿…é¡»å‡åºæ’åˆ—ï¼Œç›¸é‚»ä¸¤ä¸ªæ•°ç”¨æ°å¥½ $1$ ä¸ªç©ºæ ¼éš”å¼€ã€‚

å¯¹äºæ²¡æœ‰é€‰ä»»ä½•æ•°çš„æ–¹æ¡ˆï¼Œè¾“å‡ºç©ºè¡Œ

æœ¬é¢˜æœ‰è‡ªå®šä¹‰æ ¡éªŒå™¨ï¼ˆSPJï¼‰ï¼Œå„è¡Œï¼ˆä¸åŒæ–¹æ¡ˆï¼‰ä¹‹é—´çš„é¡ºåºä»»æ„

> æ•°æ®èŒƒå›´

$$
1 \leq n \leq 15
$$

> è¾“å…¥æ ·ä¾‹

```python
3
```

> è¾“å‡ºæ ·ä¾‹

```python
3
2
2 3
1
1 3
1 2
1 2 3
```

### æ±‚è§£

> é€’å½’æ–¹å¼

```python
n = input()

def dfs(u, state):
    if u == n:
        res = [str(i + 1) for i in range(n) if state >> i & 1]
        print(" ".join(res))
        return
    dfs(u + 1, state)
    dfs(u + 1, state | 1 << u)
    
dfs(0, 0)   
```

> ä½è¿ç®—æ–¹å¼

ç»™å®šnï¼Œæ±‚å‡º$[1,n]$çš„ç»„åˆï¼Œæ¯”å¦‚$n=5$ï¼Œå…¶ç»„åˆæ•°ä¸º$C_5^1+C_5^2+C_5^3+C_5^4+C_5^5 = 32$

è¿™é‡Œå¯ä»¥æŠŠæ¯ä½æ˜¯å¦é€‰æ‹©ç”¨$n$ä½çš„äºŒè¿›åˆ¶è¡¨è¾¾ï¼Œæ¯”å¦‚$11 \cdots 11$ï¼Œä¸€ç›´å‡1ï¼Œå‡åˆ°0æ—¶ç»“æŸï¼ŒæœŸé—´æ¯ä¸ªäºŒè¿›åˆ¶å°±æ˜¯é€‰æ‹©çš„ç»“æœï¼Œè¾“å‡ºå¯¹åº”ç»“æœå°±å¥½

```python
def solution(n):
    a = 1 << n
    ct = 0
    import time
    t0 = time.time()
    res = []
    while a := a - 1:
        ct += 1
        res.append(bin(a))
    print('\n'.join(res))
    print("ct", ct, time.time() - t0)
```

## é€’å½’å®ç°ç»„åˆå‹æšä¸¾

### é¢˜ç›®

> æè¿°

ä» $1âˆ¼n$ è¿™ $n$ ä¸ªæ•´æ•°ä¸­éšæœºé€‰å–$m$ä¸ªï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„é€‰æ‹©æ–¹æ¡ˆ

> éš¾åº¦

ç®€å•

> è¾“å…¥æ ¼å¼

ä¸¤ä¸ªæ•´æ•° $n$ï¼Œ$m$åœ¨åŒä¸€è¡Œç”¨ç©ºæ ¼éš”å¼€

> è¾“å‡ºæ ¼å¼

æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºæ‰€æœ‰æ–¹æ¡ˆï¼Œæ¯è¡Œ 1 ä¸ª

é¦–å…ˆï¼ŒåŒä¸€è¡Œå†…çš„æ•°å‡åºæ’åˆ—ï¼Œç›¸é‚»ä¸¤ä¸ªæ•°ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€

å…¶æ¬¡ï¼Œå¯¹äºä¸¤ä¸ªä¸åŒçš„è¡Œï¼Œå¯¹åº”ä¸‹æ ‡çš„æ•°ä¸€ä¸€æ¯”è¾ƒï¼Œå­—å…¸åºè¾ƒå°çš„æ’åœ¨å‰é¢ï¼ˆä¾‹å¦‚ `1 3 5 7` æ’åœ¨ `1 3 6 8` å‰é¢ï¼‰

> æ•°æ®èŒƒå›´

$$
n \gt 0, 0 \leq m \leq n, n+(n-m) \leq 25
$$

> è¾“å…¥æ ·ä¾‹

```python
5 3
```

> è¾“å‡ºæ ·ä¾‹

```python
1 2 3 
1 2 4 
1 2 5 
1 3 4 
1 3 5 
1 4 5 
2 3 4 
2 3 5 
2 4 5 
3 4 5 
```

### æ±‚è§£

> é€’å½’æ–¹å¼

```pytho
n = input()
m = input()


def dfs(u, sum_, state):
    # ä¸æ»¡è¶³è¦æ±‚çš„å‰ªæ
    if sum_ + n - u < m:
        return
    if u == n:
        res = [str(i + 1) for i in range(n) if state >> i & 1]
        print(" ".join(res))
    dfs(u + 1, sum_, state)
    dfs(u + 1, sum_ + 1, state | 1 << u)

dfs(0, 0, 0)
```

> ä½è¿ç®—æ–¹å¼

```python
def lowbit(x: int):
    return x & -x    

def cal_one(v):
    ct = 0
    while v:
        v -= lowbit(v)
        ct += 1
    return ct


def solution_m(n, m):
    # è·å–mä½çš„ç»„åˆ
    a = 1 << n
    ct = 0
    while a := a - 1:
        if cal_one(a) == m:
            ct += 1
            print(bin(a))
    print("ct", ct)


if __name__ == '__main__':
    solution_m(5, 3)
```

## é€’å½’å®ç°æ’åˆ—å‹æšä¸¾

### é¢˜ç›®

> æè¿°

ä» $1âˆ¼n$ è¿™ $n$ ä¸ªæ•´æ•°æ’æˆä¸€è¡Œåéšæœºæ‰“ä¹±é¡ºåºï¼Œè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„æ¬¡åº

> éš¾åº¦

ç®€å•

> è¾“å…¥æ ¼å¼

ä¸€ä¸ªæ•´æ•° $n$

> è¾“å‡ºæ ¼å¼

æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¾“å‡ºæ‰€æœ‰æ–¹æ¡ˆï¼Œæ¯è¡Œ 1 ä¸ª

é¦–å…ˆï¼ŒåŒä¸€è¡Œç›¸é‚»ä¸¤ä¸ªæ•°ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚

å…¶æ¬¡ï¼Œå¯¹äºä¸¤ä¸ªä¸åŒçš„è¡Œï¼Œå¯¹åº”ä¸‹æ ‡çš„æ•°ä¸€ä¸€æ¯”è¾ƒï¼Œå­—å…¸åºè¾ƒå°çš„æ’åœ¨å‰é¢ã€‚

> æ•°æ®èŒƒå›´

$$
1 \leq n \leq 9
$$

> è¾“å…¥æ ·ä¾‹

```python
3
```

> è¾“å‡ºæ ·ä¾‹

```python
1 2 3
1 3 2
2 1 3
2 3 1
3 1 2
3 2 1
```

### æ€è·¯

æ¯æ¬¡é€‰å–æ²¡æœ‰é€‰è¿‡çš„æ•°

### æ±‚è§£

```python
n = input()
path = []


def dfs(u, state):
    if u == n:
        print(" ".join(path))
        return

    for i in range(n):
        if not (state >> i & 1):
            path.append(str(i + 1))
            dfs(u + 1, state | (1 << i))
            path.pop()

dfs(0, 0)
```

## è´¹è§£çš„å¼€å…³

### é¢˜ç›®

> æè¿°

æ±‚açš„bæ¬¡æ–¹å¯¹på–æ¨¡çš„å€¼

> éš¾åº¦

ç®€å•

> è¾“å…¥æ ¼å¼

ä¸‰ä¸ªæ•´æ•°a,b,pï¼Œåœ¨åŒä¸€è¡Œç”¨ç©ºæ ¼éš”å¼€

> è¾“å‡ºæ ¼å¼

è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º$(a^b) \% p$çš„ç»“æœ

> æ•°æ®èŒƒå›´

$$
1 \leq a,b,q \leq 10^9
$$

> è¾“å…¥æ ·ä¾‹

```python
3 2 7
123456789 0 1
```

> è¾“å‡ºæ ·ä¾‹

```python
2
0
```

### æ€è·¯

> å¿«é€Ÿå¹‚

```python
3 ^ 10000000

# å…ˆè®¡ç®—å‡º
3 ^ 1 = 3
3 ^ 2 = 9
3 ^ 4 = 81
3 ^ 8 = 
3 ^ 16 = 
3 ^ 32 = 
...
3 ^ (2^19) = xxx
```

ğŸ¥•æ ¸å¿ƒ: å†çœ‹ä¸‹10000000çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼ŒæŠŠå¯¹åº”ä¸º1çš„ä½ä¹˜èµ·æ¥å°±å¯ä»¥

10000000çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º`0b100110001001011010000000`ï¼Œå› æ­¤åªè¦å¯¹åº”ä½ç½®çš„å€¼ä¹˜èµ·æ¥å°±æ˜¯3 ^ 10000000

ğŸ¥•æ ¹æ®æ•°å­¦å¸¸è¯†ï¼Œæ¯ä¸€ä¸ªæ­£æ•´æ•°å¯ä»¥å”¯ä¸€è¡¨ç¤ºä¸ºè‹¥å¹²æŒ‡æ•°ä¸é‡å¤çš„2çš„æ¬¡å¹•çš„å’Œ

```python
def ck_sum_of_power(in_n: int):
    """
    æ£€éªŒæ•´æ•°å¯ä»¥ç”±è‹¥å¹²ä¸ªä¸é‡å¤çš„2çš„æ¬¡å¹‚çš„å’Œ
    @param in_n:
    @return:
    """
    nb = in_n
    res = 0
    v = 1
    while nb:
        if nb & 1:
            res += v
        v *= 2
        nb >>= 1
    return res


if __name__ == '__main__':
    print(all([ck_sum_of_power(in_n=i) == i for i in range(100)]))
```

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœbåœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹æœ‰$k$ä½ï¼Œå…¶ä¸­ç¬¬$i(0<i<k)$ä½çš„æ•°å­—æ˜¯$c_i$ï¼Œåˆ™
$$
b = c_{k-1}2^{k-1}+c_{k-2}2^{k-2}+\cdots+c_{0}2^{0}
$$
äºæ˜¯
$$
a^b = a^{c_{k-1}2^{k-1}+c_{k-2}2^{k-2}+\cdots+c_{0}2^{0}}=a^{c_{k-1}2^{k-1}}*a^{c_{k-2}2^{k-2}}*\cdots*a^{c_{0}2^{0}}
$$
å› ä¸º$k= \lceil log2(b+1) \rceil $ï¼Œæ‰€ä»¥ä¸Šå¼ä¹˜ç§¯é¡¹çš„æ•°é‡ä¸å¤šäº$\lceil log2(b+1) \rceil$ä¸ª

åˆå› ä¸º$a^{2^i} = {a^{(2^{i-1})}}^2$ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ˆå®¹æ˜“é€šè¿‡$k$æ¬¡é€’æ¨æ±‚å‡ºæ¯ä¸ªä¹˜ç§¯é¡¹ï¼Œå½“$c_i=1$æ—¶ï¼ŒæŠŠè¯¥ä¹˜ç§¯é¡¹ç´¯ç§¯åˆ°ç­”æ¡ˆä¸­

b&1è¿ç®—å¯ä»¥å–å‡ºbåœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹çš„æœ€ä½ä½ï¼Œè€Œb>>1è¿ç®—å¯ä»¥èˆå»æœ€ä½ä½ï¼Œåœ¨é€’æ¨çš„è¿‡ç¨‹ä¸­å°†äºŒè€…ç»“åˆï¼Œå°±å¯ä»¥éå†båœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹çš„æ‰€æœ‰æ•°ä½$c_i$ï¼Œæ•´ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO($log2(b)$)

### æ±‚è§£

```python
def solution(a: int, b: int, p: int) -> int:
    res = 1 % p
    while b:
        # å¦‚æœbçš„ä¸ªä½æ˜¯1
        if b & 1:
            res = res *  a % p
        # å‡†å¤‡åä½
        a = a * a % p
        # å»æ‰å„ä½
        b >>= 1

    return res
```



## ä¸‰å±‚æ±‰è¯ºå¡”

$$
d[n] = 2*d[n-1]+1,d[0]=1
$$



```python
def hanoi(n, from_, temp, to):
    """
    @param n: å‰©ä½™ç›˜å­æ•°é‡
    @param from_: å½“å‰ä½ç½®
    @param temp: ä¸´æ—¶ä½ç½®
    @param to: ç›®æ ‡ä½ç½®
    @return:
    """
    if n == 1:
        print(from_ + " -> " + to)
        return
    hanoi(n - 1, from_, to, temp)
    print(from_ + " -> " + to)
    hanoi(n - 1, temp, from_, to)


def solution(n: int, from_, temp, to):
    hanoi(n, from_, temp, to)


if __name__ == '__main__':
    solution(n=3, from_='A', temp='B', to='C')
    
# è¾“å‡º
A -> C
A -> B
C -> B
A -> C
B -> A
B -> C
A -> C
```







```python
#!/usr/bin/env Python
# -- coding: utf-8 --

from functools import lru_cache

from basic_support.comm_classes.utils_class import Timer


@lru_cache()
def fab(n: int):
    return 1 if n <= 1 else fab(n - 1) + fab(n - 2)


def fab_no_stock(n: int):
    res = 0
    one, two = 1, 1
    while n := n - 1:
        res = one + two
        one, two = two, res
    return res


if __name__ == '__main__':
    p_t = 10
    timer = Timer()
    with timer:
        res = fab(n=p_t)
    print(timer.call_time_with_seconds(), res)
    timer.reset()

    with timer:
        res_no = fab_no_stock(n=p_t)
    print(timer.call_time_with_seconds(), res_no)

```

